# iBeacon not working with iPhone issue investigation report

## Manual testing with scenarios

User 1 is the iPad app, and user 2 is the iPhone app.

### Display off

iPhone:
 - Model: iPhone 6s
 - Unplugged

1. Enter region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-enter-foreground</td>
			<td>app will enter foreground</td>
			<td>2017-02-18 00:11:02.171+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-become-active</td>
			<td>app did become active</td>
			<td>2017-02-18 00:11:02.553+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-enter-region</td>
			<td>did enter region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:11:03.83+00</td>
		</tr>
	</table>

2. Exit region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-resign-active</td>
			<td>app will resign active</td>
			<td>2017-02-18 00:13:52.27+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-enter-background</td>
			<td>app did enter background</td>
			<td>2017-02-18 00:13:52.946+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-exit-region</td>
			<td>did exit region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:14:26.119+00</td>
		</tr>
	</table>

3. Enter region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-enter-foreground</td>
			<td>app will enter foreground</td>
			<td>2017-02-18 00:18:27.805+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-become-active</td>
			<td>app did become active</td>
			<td>2017-02-18 00:18:28.198+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-enter-region</td>
			<td>did enter region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:18:28.962+00</td>
		</tr>
	</table>

4. Exit region - Works ✅
	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-resign-active</td>
			<td>app will resign active</td>
			<td>2017-02-18 00:19:03.945+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-enter-background</td>
			<td>app did enter background</td>
			<td>2017-02-18 00:19:04.619+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-exit-region</td>
			<td>did exit region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:19:37.296+00</td>
		</tr>
	</table>

5. Enter region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-enter-foreground</td>
			<td>app will enter foreground</td>
			<td>2017-02-18 00:20:57.881+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-become-active</td>
			<td>app did become active</td>
			<td>2017-02-18 00:20:58.265+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-enter-region</td>
			<td>did enter region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:21:00.181+00</td>
		</tr>
	</table>

6. Exit region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-resign-active</td>
			<td>app will resign active</td>
			<td>2017-02-18 00:21:56.722+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-enter-background</td>
			<td>app did enter background</td>
			<td>2017-02-18 00:21:57.405+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-exit-region</td>
			<td>did exit region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:22:28.681+00</td>
		</tr>
	</table>

7. Enter region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-enter-foreground</td>
			<td>app will enter foreground</td>
			<td>2017-02-18 00:23:44.448+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-become-active</td>
			<td>app did become active</td>
			<td>2017-02-18 00:23:44.837+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-enter-region</td>
			<td>did enter region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:23:45.269+00</td>
		</tr>
	</table>

7. Exit region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-resign-active</td>
			<td>app will resign active</td>
			<td>2017-02-18 00:24:14.155+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-enter-background</td>
			<td>app did enter background</td>
			<td>2017-02-18 00:24:14.825+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-exit-region</td>
			<td>did exit region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:24:47.39+00</td>
		</tr>
	</table>

8. Enter region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-enter-foreground</td>
			<td>app will enter foreground</td>
			<td>2017-02-18 00:25:20.036+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-become-active</td>
			<td>app did become active</td>
			<td>2017-02-18 00:25:20.421+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-enter-region</td>
			<td>did enter region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:25:20.614+00</td>
		</tr>
	</table>

10. Exit region - Works ✅

	<table>
		<tr>
			<th>user_id</th>
			<th>event</th>
			<th>message</th>
			<th>created_at</th>
		</tr>
		<tr>
			<td>1</td>
			<td>app-will-resign-active</td>
			<td>app will resign active</td>
			<td>2017-02-18 00:25:42.609+00</td>
		</tr>
		<tr>
			<td>1</td>
			<td>app-did-enter-background</td>
			<td>app did enter background</td>
			<td>2017-02-18 00:25:43.293+00</td>
		</tr>
		<tr>
			<td>2</td>
			<td>did-exit-region</td>
			<td>did exit region CLBeaconRegion (identifier:'ibeacon-test.envoy.com', uuid:5E759524-B7F2-4F3A-81E6-73B2F9728AAB, major:1, minor:1)</td>
			<td>2017-02-18 00:26:15.679+00</td>
		</tr>
	</table>


### Display off + App killed

### Display off after rebooting

TODO:

1. Enter
2. Exit
3. Enter and exit

## Daily sign-in tests

TODO:
